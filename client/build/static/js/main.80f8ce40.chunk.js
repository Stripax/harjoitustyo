(this.webpackJsonpharjoitustyo=this.webpackJsonpharjoitustyo||[]).push([[0],{142:function(e,t,a){},161:function(e,t,a){},264:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a(0),c=a.n(i),s=a(11),r=a.n(s),o=(a(142),a(22)),u=a(7),d=a(16),l=a.n(d),j=a(24),b=a(327),h=a(23),x=a.n(h),O=(a(161),a(121)),m=a.n(O),f=(a(78),a(304)),p=a(319),g=a(328),v=a(315),k=a(323),y=a(6),w=a(65),C=a(80),S=a.n(C),q=a(324),E=a(329),N=a(314),I=a(310),F=a(311),A=a(309),T=a(308),W=function(e){var t=Object(i.useState)(!0),a=Object(u.a)(t,2),c=a[0],s=a[1],r=Object(i.useState)(""),o=Object(u.a)(r,2),d=o[0],b=o[1],h=null;h="https://exam-program.herokuapp.com/";var O=function(){var t=Object(j.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post(h+"exam/",{examName:d,examScore:100,startdate:"2021-01-01",enddate:"2022-01-01"});case 3:(a=t.sent).data.id>0&&(e.alertFeedback(a.data.message,a.data.severity),e.dispatch(d)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.alertFeedback(t.t0.message,"error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{children:Object(n.jsxs)(E.a,{open:c,TransitionComponent:T.a,transitionDuration:{enter:500,exit:300},onExiting:function(){e.closed(),s(!1)},onClose:function(){s(!1),e.closed()},"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(A.a,{id:"form-dialog-title",children:"Uuden tentin nimi"}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(F.a,{children:"Anna uuden tentin nimi ja valitse sitten OK"}),Object(n.jsx)(q.a,{autoFocus:!0,autoComplete:"off",margin:"dense",id:"newExamNameTextField",label:"Tentin Nimi",type:"text",fullWidth:!0,onChange:function(e){return function(e){b(e)}(e.target.value)}})]}),Object(n.jsxs)(N.a,{children:[Object(n.jsx)(v.a,{onClick:function(){return s(!1)},color:"primary",children:"Peruuta"}),Object(n.jsx)(v.a,{onClick:function(){s(!1),O()},disabled:d.length<1,color:"primary",children:"OK"})]})]})})},L=(a(79),a(12)),Q=function(e){var t=Object(i.useState)(e.open),a=Object(u.a)(t,2),c=a[0],s=a[1],r=Object(i.useState)(!1),d=Object(u.a)(r,2),b=d[0],h=d[1],O=Object(i.useState)({firstName:"",surname:"",email:"",password:"",passwordCheck:""}),m=Object(u.a)(O,2),f=m[0],p=m[1],g=null;g="https://exam-program.herokuapp.com/";var k=function(e){p(Object(o.a)(Object(o.a)({},f),{},Object(L.a)({},e.target.id,e.target.value)))},y=function(e){f.password==e||f.passwordCheck==e?h(!0):h(!1)},w=function(){var t=Object(j.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post(g+"adduser/",{firstName:f.firstName,surname:f.surname,email:f.email,password:f.password});case 3:200==(a=t.sent).status&&e.alertFeedback(a.data.message,a.data.severity),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.alertFeedback(t.t0.message,"error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{children:Object(n.jsxs)(E.a,{open:c,TransitionComponent:T.a,transitionDuration:{enter:700,exit:500},onExiting:function(){e.closed(),s(!1)},onClose:function(){return s(!1)},"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(A.a,{id:"form-dialog-title",children:"Rekister\xf6idy"}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(F.a,{children:"Sy\xf6t\xe4 etu- ja sukunimi, s\xe4hk\xf6postiosoite sek\xe4 salasanasi"}),Object(n.jsx)(q.a,{autoFocus:!0,autoComplete:"off",margin:"dense",id:"firstName",label:"Etunimi",type:"text",variant:"outlined",fullWidth:"true",onChange:function(e){return k(e)}}),Object(n.jsx)(q.a,{autoComplete:"off",margin:"dense",id:"surname",label:"Sukunimi",type:"text",variant:"outlined",fullWidth:"true",onChange:function(e){return k(e)}}),Object(n.jsx)(q.a,{autoComplete:"off",required:!0,margin:"dense",id:"email",label:"S\xe4hk\xf6postiosoite",type:"text",variant:"outlined",fullWidth:"true",onChange:function(e){return k(e)}}),Object(n.jsx)(q.a,{autoComplete:"off",required:!0,margin:"dense",id:"password",label:"Salasana",type:"password",variant:"outlined",fullWidth:"true",onChange:function(e){k(e),y(e.target.value)}}),Object(n.jsx)(q.a,{autoComplete:"off",required:!0,error:!b||f.password.length<1,margin:"dense",id:"passwordCheck",label:"Anna salasanasi uudestaan",type:"password",variant:"outlined",fullWidth:"true",onChange:function(e){k(e),y(e.target.value)}})]}),Object(n.jsxs)(N.a,{children:[Object(n.jsx)(v.a,{onClick:function(){return s(!1)},color:"primary",children:"Peruuta"}),Object(n.jsx)(v.a,{onClick:function(){s(!1),w()},color:"primary",disabled:!b||f.password.length<1,children:"Rekister\xf6idy"})]})]})})},_=function(e){var t=Object(i.useState)(e.open),a=Object(u.a)(t,2),c=a[0],s=a[1],r=Object(i.useState)({email:"",password:""}),d=Object(u.a)(r,2),b=d[0],h=d[1],O=null;O="https://exam-program.herokuapp.com/";var m=function(e){h(Object(o.a)(Object(o.a)({},b),{},Object(L.a)({},e.target.id,e.target.value)))},f=function(){var t=Object(j.a)(l.a.mark((function t(){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,x.a.post(O+"login/",{email:b.email,password:b.password});case 3:200==(a=t.sent).status&&(a.data.isAdmin?(e.alertFeedback("Tervetuloa Admin","success"),e.isLoginSuccessful(a.data.isLoginSuccessful),e.admin()):(e.alertFeedback(a.data.message,a.data.severity),e.isLoginSuccessful(a.data.isLoginSuccessful)),a.data.isLoginSuccessful&&e.userId(a.data.userId)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.alertFeedback(t.t0.message,"error");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(n.jsx)("div",{children:Object(n.jsxs)(E.a,{open:c,TransitionComponent:T.a,transitionDuration:{enter:700,exit:500},onExiting:function(){e.closed(),s(!1)},onClose:function(){return s(!1)},"aria-labelledby":"form-dialog-title",children:[Object(n.jsx)(A.a,{id:"form-dialog-title",children:"Sis\xe4\xe4nkirjautuminen"}),Object(n.jsxs)(I.a,{children:[Object(n.jsx)(F.a,{children:"Sy\xf6t\xe4 s\xe4hk\xf6postiosoitteesi sek\xe4 salasanasi"}),Object(n.jsx)(q.a,{autoFocus:!0,required:!0,autoComplete:"off",margin:"dense",id:"email",label:"S\xe4hk\xf6postiosoite",type:"text",fullWidth:!0,onChange:function(e){return m(e)}}),Object(n.jsx)(q.a,{required:!0,autoComplete:"off",margin:"dense",id:"password",label:"Salasana",type:"password",fullWidth:!0,onChange:function(e){return m(e)}})]}),Object(n.jsxs)(N.a,{children:[Object(n.jsx)(v.a,{onClick:function(){return s(!1)},color:"primary",children:"Peruuta"}),Object(n.jsx)(v.a,{onClick:function(){s(!1),f()},disabled:b.email.length<1||b.password.length<1,color:"primary",children:"Kirjaudu"})]})]})})},K=a(330),R=a(326),B=a(316),D=function(e){var t=Object(i.useState)(e.open),a=Object(u.a)(t,2),c=a[0],s=a[1];return Object(n.jsx)("div",{children:Object(n.jsx)(K.a,{open:c,autoHideDuration:6e3,anchorOrigin:{horizontal:"left",vertical:"bottom"},TransitionComponent:B.a,transitionDuration:{enter:800,exit:1200},TransitionProps:{direction:"up"},onExiting:function(){e.closed(),s(!1)},onClose:function(){return s(!1)},children:Object(n.jsx)(R.a,{elevation:6,variant:"filled",closeText:"Sulje ikkuna",severity:e.alertFeedback.severity,onClose:function(){return s(!1)},children:e.alertFeedback.message})})})};var P=a(318),J=a(320),H=a(313),G=a(321),U=a(322),z=Object(P.a)({table:{minWidth:650},chatSection:{width:"100%",height:"80vh"},headBG:{backgroundColor:"#e0e0e0"},borderRight500:{borderRight:"1px solid #e0e0e0"},messageArea:{height:"65vh",overflowY:"auto"}}),M=function(){var e=Object(i.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],s=z();return Object(n.jsx)("div",{children:Object(n.jsxs)(p.a,{container:!0,component:f.a,className:s.chatSection,children:[Object(n.jsxs)(p.a,{item:!0,xs:3,className:s.borderRight500,children:[Object(n.jsx)(J.a,{}),Object(n.jsx)(p.a,{item:!0,xs:12,style:{padding:"5px"},children:Object(n.jsx)(q.a,{id:"chatName",label:"Nimesi",variant:"outlined",fullWidth:!0})}),Object(n.jsx)(J.a,{}),Object(n.jsxs)(H.a,{children:[Object(n.jsx)(G.a,{children:Object(n.jsx)(U.a,{children:"Remy Sharp"})}),Object(n.jsx)(G.a,{children:Object(n.jsx)(U.a,{primary:"Alice",children:"Alice"})}),Object(n.jsx)(G.a,{children:Object(n.jsx)(U.a,{primary:"Cindy Baker",children:"Cindy Baker"})})]})]}),Object(n.jsxs)(p.a,{item:!0,xs:9,children:[Object(n.jsxs)(H.a,{className:s.messageArea,children:[Object(n.jsx)(G.a,{children:Object(n.jsxs)(p.a,{container:!0,children:[Object(n.jsx)(p.a,{item:!0,xs:12,children:Object(n.jsx)(U.a,{align:"right",primary:"Hey man, What's up?"})}),Object(n.jsx)(p.a,{item:!0,xs:12,children:Object(n.jsx)(U.a,{align:"right",secondary:"09:30"})})]})},"1"),Object(n.jsx)(G.a,{children:Object(n.jsxs)(p.a,{container:!0,children:[Object(n.jsx)(p.a,{item:!0,xs:12,children:Object(n.jsx)(U.a,{align:"left",primary:"Hey, Iam Good! What about you ?"})}),Object(n.jsx)(p.a,{item:!0,xs:12,children:Object(n.jsx)(U.a,{align:"left",secondary:"09:31"})})]})},"2"),Object(n.jsx)(G.a,{children:Object(n.jsxs)(p.a,{container:!0,children:[Object(n.jsx)(p.a,{item:!0,xs:12,children:Object(n.jsx)(U.a,{align:"right",primary:"Cool. i am good, let's catch up!"})}),Object(n.jsx)(p.a,{item:!0,xs:12,children:Object(n.jsx)(U.a,{align:"right",secondary:"10:30"})})]})},"3")]}),Object(n.jsx)(J.a,{}),Object(n.jsxs)(p.a,{container:!0,style:{padding:"20px"},children:[Object(n.jsx)(p.a,{item:!0,xs:11,children:Object(n.jsx)(q.a,{label:"Kirjoita viesti",fullWidth:!0,onChange:function(e){return function(e){c(e.target.value)}(e)},value:a,autoFocus:!0})}),Object(n.jsx)(p.a,{xs:1,align:"right"})]})]})]})})},Y=null;function $(e,t){var a=JSON.parse(JSON.stringify(e)),n=a.findIndex((function(e){return e.id==t.activeExam}));switch(t.type){case"changeQuestion":return a[t.data.activeExam].questions[t.data.questionIndex].question=t.data.newQuestionText,a;case"changeAnswerText":return a[t.data.activeExam].questions[t.data.questionIndex].choices[t.data.answerIndex].answer=t.data.newAnswerText,a;case"changeCorrectAnswer":return a[t.data.activeExam].questions[t.data.questionIndex].choices[t.data.answerIndex].isCorrect=t.data.checked,a;case"deleteQuestion":return a[t.data.activeExam].questions.splice(t.data.questionIndex,1),a;case"deleteAnswer":return a[t.data.activeExam].questions[t.data.questionIndex].choices.splice(t.data.answerIndex,1),a;case"addExam":return a.push(t.newExamName),a;case"addQuestion":var i={id:Object(b.a)(),question:"",choices:[]};return a[t.data.activeExam].questions.push(i),a;case"addAnswer":var c={id:Object(b.a)(),answer:"",isSelected:!1,isCorrect:!1};return a[t.data.activeExam].questions[t.data.questionIndex].choices.push(c),a;case"checkBoxClicked":return function(){var e=Object(j.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.put(Y+"checkbox",{answer_id:t.data.answerId,checked:t.data.checked});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),alert(e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}()(),a[n].questions[t.data.questionIndex].choices[t.data.answerIndex].is_selected=t.data.checked,a;case"getQuestions":var s=[];return t.data.forEach((function(e){s.push(e)})),a[n].questions=s,a;case"getQuestionChoices":var r=[];t.data.forEach((function(e){r.push(e)}));for(var o=0;o<a[n].questions.length;o++)a[n].questions[o].choices=r.filter((function(e){return e.question_id==a[n].questions[o].id}));return a;case"getExamNames":return t.data;default:throw new Error}}Y="https://exam-program.herokuapp.com/";var V=function(){var e=Object(i.useReducer)($,[]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(i.useState)(-1),r=Object(u.a)(s,2),d=r[0],h=r[1],O=Object(i.useState)(0),C=Object(u.a)(O,2),q=(C[0],C[1]),E=Object(i.useState)({message:"",severity:""}),N=Object(u.a)(E,2),I=N[0],F=N[1],A=Object(i.useState)(!1),T=Object(u.a)(A,2),L=T[0],K=T[1],R=Object(i.useState)(!1),B=Object(u.a)(R,2),P=B[0],J=B[1],H=Object(i.useState)(!1),G=Object(u.a)(H,2),U=G[0],z=G[1],V=Object(i.useState)(!1),X=Object(u.a)(V,2),Z=X[0],ee=X[1],te=Object(i.useState)(!1),ae=Object(u.a)(te,2),ne=ae[0],ie=ae[1],ce=Object(i.useState)(!1),se=Object(u.a)(ce,2),re=se[0],oe=se[1],ue=Object(i.useState)(!1),de=Object(u.a)(ue,2),le=de[0],je=de[1],be=Object(i.useState)(!1),he=Object(u.a)(be,2),xe=he[0],Oe=he[1],me=Object(i.useState)(!1),fe=Object(u.a)(me,2),pe=fe[0],ge=fe[1],ve=Object(i.useState)(!1),ke=Object(u.a)(ve,2),ye=ke[0],we=ke[1],Ce=Object(i.useState)(!1),Se=Object(u.a)(Ce,2),qe=(Se[0],Se[1],Object(i.useState)(!1)),Ee=Object(u.a)(qe,2),Ne=Ee[0],Ie=Ee[1];Object(i.useEffect)((function(){(function(){var e=Object(j.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get(Y+"exams");case 3:(t=e.sent).data.length>0&&(c({type:"getExamNames",data:t.data}),K(!0)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),F({message:e.t0.message,severity:"error"}),we(!0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(i.useEffect)((function(){d>=0&&(function(){var e=Object(j.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get(Y+"questions/"+d);case 3:return t=e.sent,e.next=6,x.a.get(Y+"answers/"+d);case 6:a=e.sent,t.data.length>0&&(c({type:"getQuestions",data:t.data,activeExam:d}),J(!0)),a.data.length>0&&(c({type:"getQuestionChoices",data:a.data,activeExam:d}),z(!0)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),F({message:e.t0.message,severity:"error"}),we(!0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}()(),ee(!1))}),[d]);var Fe=Object(y.a)({root:{color:w.a[400],"&$checked":{color:w.a[600]}},checked:{}})((function(e){return Object(n.jsx)(g.a,Object(o.a)({color:"default"},e))})),Ae=new m.a({en:{chat:"Chat",info:"About",admin:"Admin",exams:"Show exams",signup:"Signup",signin:"Sign in",exit:"Exit"},fi:{chat:"Keskustelu",info:"Tietoa sovelluksesta",admin:"J\xe4rjestelm\xe4nvalvoja",exams:"N\xe4yt\xe4t tentit",signup:"Rekister\xf6idy",signin:"Kirjaudu",exit:"Poistu"}});return Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)("div",{className:"header",children:Object(n.jsxs)("div",{className:"header-buttons",children:[Object(n.jsx)(v.a,{color:"inherit",onClick:function(){"fi"==Ae.getLanguage()?(Ae.setLanguage("en"),F({message:"Language switched to English",severity:"info"}),we(!0)):(Ae.setLanguage("fi"),F({message:"Kieli vaihdettu suomeksi",severity:"info"}),we(!0))},children:"FI / EN"},Object(b.a)()),Object(n.jsx)(v.a,{color:"inherit",onClick:function(){return window.open("https://www.youtube.com/watch?v=sAqnNWUD79Q","_blank")},children:Ae.info},Object(b.a)()),Object(n.jsx)(v.a,{color:"inherit",onClick:function(){return Ie(!Ne)},children:Ae.chat},Object(b.a)()),!re&&Object(n.jsx)(v.a,{color:"inherit",disabled:!0,children:Ae.admin},Object(b.a)()),re&&Object(n.jsx)(v.a,{color:"inherit",onClick:function(){return h(-1)},children:Ae.exams},Object(b.a)()),!re&&Object(n.jsx)(v.a,{color:"inherit",onClick:function(){return Oe(!0)},children:Ae.signup},Object(b.a)()),!re&&Object(n.jsx)(v.a,{color:"inherit",onClick:function(){return ge(!0)},children:Ae.signin},Object(b.a)()),re&&Object(n.jsx)(v.a,{color:"inherit",onClick:function(){return F({message:"Kirjauduit ulos",severity:"info"}),we(!0),oe(!1),ie(!1),void q(0)},children:Ae.exit},Object(b.a)())]})}),Object(n.jsx)("div",{className:"chat-window",children:Ne&&Object(n.jsx)(M,{closed:function(){return Ie(!1)}},Object(b.a)())}),Object(n.jsxs)("div",{className:"login-register-dialogs",children:[Object(n.jsx)(Q,{open:xe,closed:function(){return Oe(!1)},alertFeedback:function(e,t){we(!0),F({message:e,severity:t})}},Object(b.a)()),Object(n.jsx)(_,{open:pe,closed:function(){return ge(!1)},alertFeedback:function(e,t){we(!0),F({message:e,severity:t})},isLoginSuccessful:function(e){return oe(e)},userId:function(e){return q(e)},admin:function(){return ie(!0)}},Object(b.a)()),Object(n.jsx)(D,{open:ye,closed:function(){we(!1),F({message:"",severity:""})},alertFeedback:{message:I.message,severity:I.severity}},Object(b.a)())]}),Object(n.jsxs)("div",{className:"exam-buttons",children:[re&&function(){if(L)return a.map((function(e){return Object(n.jsx)(v.a,{color:"primary",onClick:function(){h(Number(e.id)),J(!1),z(!1)},children:e.exam_name},Object(b.a)())}))}(),ne&&Object(n.jsx)(v.a,{color:"primary",startIcon:Object(n.jsx)(S.a,{}),onClick:function(){return je(!0)}},Object(b.a)()),le&&Object(n.jsx)(W,{closed:function(){je(!1),F({message:"",severity:""})},alertFeedback:function(e,t){we(!0),F({message:e,severity:t})},dispatch:function(e){return c({type:"addExam",newExamName:e})}},Object(b.a)())]}),Object(n.jsx)("div",{className:"main-body",children:Object(n.jsx)(p.a,{container:!0,direction:"column",justify:"center",alignItems:"stretch",children:Object(n.jsxs)(p.a,{item:!0,xs:12,children:[!ne&&P&&function(){var e=a.findIndex((function(e){return e.id==d}));if(P&&U&&d>=0)return a[e].questions.map((function(e,t){return Object(n.jsxs)(f.a,{className:"question",children:[Object(n.jsx)("h2",{className:"question-header",children:e.question_text}),e.choices.map((function(a,i){return Object(n.jsx)("div",{children:Object(n.jsx)(k.a,{control:Object(n.jsxs)("div",{children:[!1===Z?Object(n.jsx)(g.a,{checked:a.is_selected,onClick:function(n){return c({type:"checkBoxClicked",data:{checked:n.target.checked,questionId:e.id,questionIndex:t,answerId:a.id,answerIndex:i},activeExam:d})}}):Object(n.jsx)(g.a,{color:"primary",checked:a.is_selected,disabled:!0}),Z&&Object(n.jsx)(Fe,{checked:a.is_correct,disabled:!0})]}),label:a.answer_text})},a.id)}))]},e.id)}))}(),ne&&d>=0&&Object(n.jsx)(v.a,{startIcon:Object(n.jsx)(S.a,{}),onClick:function(){return c({type:"addQuestion",activeExam:d})}},Object(b.a)())]})})}),Object(n.jsx)("div",{className:"answer-buttons",children:d>=0&&!ne&&P&&Object(n.jsx)(v.a,{variant:"contained",color:"primary",onClick:function(){return ee(!Z)},children:"N\xe4yt\xe4 vastaukset"},Object(b.a)())})]})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,331)).then((function(t){var a=t.getCLS,n=t.getFID,i=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),i(e),c(e),s(e)}))};r.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(V,{})}),document.getElementById("root")),X()}},[[264,1,2]]]);
//# sourceMappingURL=main.80f8ce40.chunk.js.map